* [Общие положения](#общие-положения)
* [Типы данных](#типы-данных)
  * [Product](#product)
  * [Customer](#customer)
  * [Order](#order)
  * [OrderProduct](#orderproduct)
  * [Error](#error)
* [Методы](#методы)
  * [POST /product](#post-product)
  * [GET /products](#get-products)
  * [GET /products/{id}](#get-productsid)
  * [DELETE /products/{id}](#delete-productsid)
  
  * [POST /customer](#post-customer)
  * [GET /customers](#get-customers)
  * [GET /customers/{id}](#get-customersid)
  * [DELETE /customers/{id}](#delete-customersid)
    
  * [POST /customers/{id}/orders](#post-customerorder)
  * [GET /customers/{id}/orders](#get-customerorder)
  * [PUT /customers/{id}/orders/{id}](#put-customerorder)
  * [DELETE /customers/{id}/orders/{id}](#delete-customerorder)
  
* [Список ошибок](#список-ошибок)

## Общие положения
Передача параметров в методы `POST`, `PATCH` и `PUT` осуществляется с использованием типа данных `application/json` в кодировке UTF-8.

Результаты выполнения запросов передаются с использованием типа данных `application/json` в кодировке UTF-8.

Ошибки возвращаются с использованием типа данных [Error](#error) и семантически соответствующим http-кодом.

## Типы данных
### Product
Сущность, содержащая информацию о товаре.

| Поле | Тип данных | Обязательное | Комментарий |
| --- | --- | --- | --- |
| id | number | да | Уникальный идентификатор товара. |
| title | string | да | Название товара. |
| price | number | да | Цена товара. |
| description | string | нет | Краткое описание товара. |

### Customer
Сущность, содержащая информацию о заказчике.

| Поле | Тип данных | Обязательное | Комментарий |
| --- | --- | --- | --- |
| id | number | да | Уникальный идентификатор заказчика. |
| personal_data | string | да | ФИО заказчика. |
| email | string | да | email заказчика. |
| phone_number | string | да | телефонный номер заказчика. |

### Order
Сущность, содержащая информацию о заказе.

| Поле | Тип данных | Обязательное | Комментарий |
| --- | --- | --- | --- |
| id | number | да | Уникальный идентификатор заказа. |
| customer_id | number | да | Уникальный идентификатор заказчика. |

### OrderProduct
Сущность, содержащая информацию о товарах в конкретном заказе.

| Поле | Тип данных | Обязательное | Комментарий |
| --- | --- | --- | --- |
| id | number | да | Уникальный идентификатор записи. |
| order_id | number | да | Идентификатор заказа. |
| product_id | number | да | Идентификатор продукта. |
| value | number | да | Количество товара. |

### Error
Сущность, содержащая информацию о ошибке.

| Поле | Тип данных | Обязательное | Комментарий |
| --- | --- | --- | --- |
| code | string | да | Код ошибки. |
| message | string | нет | Сообщение. |

## Методы
### POST /product
Создает новую позицию товара.
#### Тело запроса
Данные товара за исключением идентификатора.
#### Ответ
[[ Product](#product)]
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### GET /products
Возвращает товары, удовлетворяющие условиям фильтра.
#### Ответ
[ [Product](#product) ]
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### GET /products/{id}
Возвращает товар с заданным идентификатором.
#### Ответ
[Product](#product)
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 3 | Сервис недоступен. |
| 4 | Автор не найден. |

### DELETE /products/{id}
Удаляет товар с заданным идентификатором.
-----------------------------------------
### POST /customer
Создает нового заказчика.
#### Тело запроса
Данные заказчика за исключением идентификатора.
#### Ответ
[Customer](#customer)
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### GET /customers
Возвращает заказчиков, удовлетворяющих условиям фильтра.
#### Ответ
[ [Customer](#customer) ]
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### GET /customers/{id}
Возвращает заказчика с заданным идентификатором.
#### Параметры запроса
| Параметр | Тип данных | Обязательное | Комментарий |
| --- | --- | --- | --- |
| title | string | нет | Название товара. |
#### Ответ
[ [Customer](#customer) ]
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### DELETE /customers/{id}
Удаляет пользователя с заданным идентификатором.
-----------------------------------------
### POST /order
Создает новый заказ.
#### Тело запроса
Данные заказа за исключением идентификатора.
#### Ответ
[Order](#order)
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### GET /orders/{id}
Возвращает заказы с заданным идентификатором.
#### Ответ
[ [Order](#order) ]
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |
#### Ответ
[ [Customer](#customer) ]
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### DELETE /orders/{id}
Удаляет заказ с заданным идентификатором.
------------------------------------------

### GET /customers/{id}/orders
Возвращает все заказы пользователя с заданным идентификатором.
#### Ответ
[ [Order](#order) ]
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 3 | Сервис недоступен. |
| 4 | Автор не найден. |

### PUT /customers/{id}
Создает или изменяет заказчика с заданным идентификатором.
#### Тело запроса
Данные заказчика за исключением идентификатора.
#### Ответ
[Customer](#customer)
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### POST /order
Создает новый заказ. 
#### Тело запроса
Данные книги за исключением идентификатора.
#### Ответ
[Book](#customer)
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### GET /customers
Возвращает книги, удовлетворяющие условиям фильтра.

#### Ответ
[ [Book](#customer) ]
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### GET /customers/{id}
Возвращает книгу с заданным идентификатором.
#### Ответ
[Book](#customer) 
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 3 | Сервис недоступен. |
| 4 | Книга не найдена. |

### PUT /customers/{id}
Создает или изменяет книгу с заданным идентификатором.
#### Тело запроса
Данные книги за исключением идентификатора.
#### Ответ
[Book](#customer)
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 2 | Некорректные значения параметров. |
| 3 | Сервис недоступен. |

### DELETE /customers/{id}
Удаляет книгу с заданным идентификатором.
#### Ответ
\-
#### Ошибки
| Код  | Комментарий |
| --- | --- |
| 1 | Внутренняя ошибка. |
| 3 | Сервис недоступен. |
| 4 | Книга не найдена. |

## Список ошибок
| Код  | Комментарий | HTTP-код |
| --- | --- | --- |
| 1 | Внутренняя ошибка. | 500 Internal Server Error|
| 2 | Некорректные значения параметров. | 400 Bad Request |
| 3 | Сервис недоступен. | 503 Service Unavailable |
| 4 | Объект не найден. | 404 Not Found |
